{
  "name": "student-mvc-system",
  "version": "1.0.0",
  "main": "server.js",
  "type": "module",
  "scripts": {
    "start": "node server.js"
  },
  "dependencies": {
    "express": "^4.19.2",
    "mongoose": "^8.0.0"
  }
}
import mongoose from "mongoose";

const connectDB = async () => {
  try {
    await mongoose.connect("mongodb://localhost:27017/studentDB");
    console.log("✅ MongoDB Connected");
  } catch (err) {
    console.error("❌ Database Connection Error:", err);
    process.exit(1);
  }
};

export default connectDB;
import mongoose from "mongoose";

const studentSchema = new mongoose.Schema({
  name: { type: String, required: true },
  age: { type: Number, required: true },
  course: { type: String, required: true }
});

const Student = mongoose.model("Student", studentSchema);
export default Student;
import Student from "../models/Student.js";

// ✅ Create Student
export const createStudent = async (req, res) => {
  try {
    const student = await Student.create(req.body);
    res.status(201).json({ message: "Student created", student });
  } catch (error) {
    res.status(400).json({ error: error.message });
  }
};

// ✅ Get All Students
export const getStudents = async (req, res) => {
  try {
    const students = await Student.find();
    res.json(students);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
};

// ✅ Update Student by ID
export const updateStudent = async (req, res) => {
  try {
    const student = await Student.findByIdAndUpdate(req.params.id, req.body, {
      new: true,
      runValidators: true
    });
    if (!student) return res.status(404).json({ error: "Student not found" });

    res.json({ message: "Student updated", student });
  } catch (error) {
    res.status(400).json({ error: error.message });
  }
};

// ✅ Delete Student by ID
export const deleteStudent = async (req, res) => {
  try {
    const student = await Student.findByIdAndDelete(req.params.id);
    if (!student) return res.status(404).json({ error: "Student not found" });

    res.json({ message: "Student deleted" });
  } catch (error) {
    res.status(400).json({ error: error.message });
  }
};
import express from "express";
import {
  createStudent,
  getStudents,
  updateStudent,
  deleteStudent
} from "../controllers/studentController.js";

const router = express.Router();

router.post("/", createStudent);       // Create
router.get("/", getStudents);          // Read
router.put("/:id", updateStudent);     // Update
router.delete("/:id", deleteStudent);  // Delete

export default router;
